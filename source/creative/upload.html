<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>筋斗云管理系统</title>
    <link href="../../css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
    <link href="../../css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
    <link href="../../css/animate.min.css" rel="stylesheet">
    <link href="../../css/style.min862f.css?v=4.1.0" rel="stylesheet">
    <link href="../../css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">
    <link href="../../css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../js/simditor-2.3.28/styles/simditor.css">
    <link rel="stylesheet" type="text/css" href="../../css/plugins/webuploader/webuploader.css">
    <link rel="stylesheet" type="text/css" href="../../css/demo/webuploader-demo.min.css">

    <!--    下来框样式-->
    <link rel="stylesheet" type="text/css" href="../../js/plugins/bootstrap-select-1.13.9/dist/css/bootstrap-select.css">
    <link href="../../css/jasny-bootstrap.min.css" rel="stylesheet">
    <!--select2-->
    <link href="../../js/plugins/select2/select2.min.css" rel="stylesheet">
</head>
<style>
    /**字符串过长 转化为 。。。**/
    table{
        table-layout:fixed;/* 只有定义了表格的布局算法为fixed，下面td的定义才能起作用。 */
    }
    td{
        max-width: 58px;
        text-overflow:ellipsis;
        overflow: auto;
        white-space: pre-wrap;
    }
    .tr_color{
        background: #FFEE99;
    }
    .select2-container{
        z-index: 9999999999999;
    }
    label{
        display: block;
        font-weight: inherit;
        margin-bottom:0px;
    }
</style>
<style>

    .label_list{
        color: black;
        margin-left: 10px;
    }
    .label_checked{
        background: black;
        color: white;
        padding: 2px 2px;
        border-radius:5px;
    }

    .right_font{
        text-align: right;
    }

    .img_s{
        width: 100%;
        height: 100px;
    }
</style>
<body>
<div class="ibox float-e-margins">
    <div class="ibox-content">
        <div class="row row-lg">
            <div class="col-sm-12" style="width: 100%;height: auto;padding: 20px;background: rgba(0,0,0,.1);border-radius: 5px;">
                <span style="color: black">标签:</span>
                <span id="label_list">

                    </span>
                <div class="right_font" style="margin-top: 60px">
                    <span style="margin-right: 10px;cursor:pointer" onclick="editLabel()" >编辑</span>
                    <span onclick="addLabel()" style="cursor:pointer">添加标签</span>
                </div>
            </div>
            <div class="col-sm-12">
                <div class="row row-lg">
                    <div class="col-lg-8 col-sm-8 col-xs-8">
                        <!-- Example Toolbar -->
                        <div class="example-wrap">
                            <div class="example">
                                <div class="" id="toolbar" role="group">
                                    <a class="btn btn-success" onclick="add()">
                                        <i class="fa fa-plus"></i> 添加
                                    </a>
                                    <a style="margin-left: 10px;" onclick="changeImgType(1)">180*100</a>
                                    <a style="margin-left: 10px;" onclick="changeImgType(2)">660*220</a>
                                </div>
                                <table class="table table-hover" id="grid"
                                       data-pagination="true"
                                       data-show-refresh="true"
                                       data-show-toggle="true"
                                       data-showColumns="true">
                                </table>
                            </div>
                        </div>
                        <!-- End Example Toolbar -->
                    </div>
                    <div class="col-lg-4 col-sm-4 col-xs-4" style="padding: 15px;">
                        <div class="" style="background: rgba(0,0,0,.1);border-radius: 2px;">
                            <div class="row" style="padding: 20px 20px 0px 20px;">
                                <div class="col-sm-12" style="display: flex;justify-content: center;">
                                    <input type="hidden" name="account_id">
                                    <button class="btn btn-default" style="width: 100%;background: white;color: grey;overflow-y:hidden;" onclick="select360Account(this)">选择360账户</button>
                                </div>
                            </div>
                            <div class="row" style="padding: 20px;">
                                <div class="col-sm-12" style="margin: 10px 0px;display: flex;align-items: center;">
                                    <div style="flex:1;margin-right: 10px;"><input type="text" class="form-control" name="landingPageIds[]"></div>
                                    <span class="glyphicon glyphicon-plus" onclick="selectLandingPage(this)"></span>
                                    <ul class="dropdown-menu" role="menu">
                                    </ul>
                                    <span class="glyphicon glyphicon-arrow-up" title="上传" style="margin-left: 10px;display: none;" onclick="uploadSingle(this)"></span>
                                </div>
                                <div class="col-sm-12" style="margin: 10px 0px;display: flex;align-items: center;">
                                    <div style="flex:1;margin-right: 10px;"><input type="text" class="form-control" name="landingPageIds[]"></div>
                                    <span class="glyphicon glyphicon-plus" onclick="selectLandingPage(this)"></span>
                                    <ul class="dropdown-menu" role="menu">
                                    </ul>
                                    <span class="glyphicon glyphicon-arrow-up" title="上传" style="margin-left: 10px;display: none;" onclick="uploadSingle(this)"></span>
                                </div>
                                <div class="col-sm-12" style="margin: 10px 0px;display: flex;align-items: center;">
                                    <div style="flex:1;margin-right: 10px;"><input type="text" class="form-control" name="landingPageIds[]"></div>
                                    <span class="glyphicon glyphicon-plus" onclick="selectLandingPage(this)"></span>
                                    <ul class="dropdown-menu" role="menu">
                                    </ul>
                                    <span class="glyphicon glyphicon-arrow-up" title="上传" style="margin-left: 10px;display: none;" onclick="uploadSingle(this)"></span>
                                </div>
                                <div class="col-sm-12" style="margin: 10px 0px;display: flex;align-items: center;">
                                    <div style="flex:1;margin-right: 10px;"><input type="text" class="form-control" name="landingPageIds[]"></div>
                                    <span class="glyphicon glyphicon-plus" onclick="selectLandingPage(this)"></span>
                                    <ul class="dropdown-menu" role="menu">
                                    </ul>
                                    <span class="glyphicon glyphicon-arrow-up" title="上传" style="margin-left: 10px;display: none;" onclick="uploadSingle(this)"></span>
                                </div>
                                <div class="col-sm-12" style="margin: 10px 0px;display: flex;align-items: center;">
                                    <div style="flex:1;margin-right: 10px;"><input type="text" class="form-control" name="landingPageIds[]"></div>
                                    <span class="glyphicon glyphicon-plus" onclick="selectLandingPage(this)"></span>
                                    <ul class="dropdown-menu" role="menu">
                                    </ul>
                                    <span class="glyphicon glyphicon-arrow-up" title="上传" style="margin-left: 10px;display: none;" onclick="uploadSingle(this)"></span>
                                </div>
                            </div>
                            <div class="row" style="padding: 0px 20px 20px;">
                                <div class="col-sm-12" style="display: flex;justify-content: center;">
                                    <span class="btn btn-danger" id="uploadBatchBtn" style="width: 100%;margin-top: 20px;">一键上传</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<!--添加-->
<div class="row" id="add" style="display: none;">
    <div class="col-sm-12">
        <form class="form-horizontal m">
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">名字：</label>
                <div class="col-sm-8">
                    <input name="name" class="form-control" type="text" minlength="15" maxlength="30" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">描述：</label>
                <div class="col-sm-8">
                    <input name="memo" class="form-control" type="text" minlength="15" maxlength="60" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">图片尺寸：</label>
                <div class="col-sm-8">
                    <div class="radio-inline">
                        <label><input type="radio" name="img_type" value="1" checked>180*100</label>
                    </div>
                    <div class="radio-inline">
                        <label><input type="radio" name="img_type" value="2">660*220</label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">图片：</label>
                <div class="col-sm-8">
                    <div class="input-group">
                        <input name="contentimg" class="form-control" type="text">
                        <div class="file-btn-group input-group-btn" data-provides="fileinput">
                            <span class="btn btn-primary btn-file">选择文件<input type="file" name="..."></span>
                            <span class="btn btn-default" onclick="eyeImage($(this).parent('div').prevAll('input').val())">预览</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">点击跳转网页：</label>
                <div class="col-sm-8">
                    <input name="link" class="form-control" type="url" required>
                </div>
            </div>
            <!--<div class="form-group">
                <label class="col-sm-3 control-label is-required">推广网站名称：</label>
                <div class="col-sm-8">
                    <input name="alt" class="form-control" type="text" required>
                </div>
            </div>-->
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">标签：</label>
                <div class="col-sm-8 tags-wrap">
                </div>
            </div>
        </form>
    </div>
</div>
<!--编辑-->
<div class="row" id="edit" style="display: none;">
    <div class="col-sm-12">
        <form class="form-horizontal m">
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">名字：</label>
                <div class="col-sm-8">
                    <input name="name" class="form-control" type="text" minlength="15" maxlength="30" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">描述：</label>
                <div class="col-sm-8">
                    <input name="memo" class="form-control" type="text" minlength="15" maxlength="60" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">图片尺寸：</label>
                <div class="col-sm-8">
                    <div class="radio-inline">
                        <label><input type="radio" name="img_type" value="1">180*100</label>
                    </div>
                    <div class="radio-inline">
                        <label><input type="radio" name="img_type" value="2">660*220</label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">图片：</label>
                <div class="col-sm-8">
                    <div class="input-group">
                        <input name="contentimg" class="form-control" type="text">
                        <div class="file-btn-group input-group-btn" data-provides="fileinput">
                            <span class="btn btn-primary btn-file">选择文件<input type="file" name="..."></span>
                            <span class="btn btn-default" onclick="eyeImage($(this).parent('div').prevAll('input').val())">预览</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">点击跳转网页：</label>
                <div class="col-sm-8">
                    <input name="link" class="form-control" type="url" required>
                </div>
            </div>
            <!--<div class="form-group">
                <label class="col-sm-3 control-label is-required">推广网站名称：</label>
                <div class="col-sm-8">
                    <input name="alt" class="form-control" type="text" required>
                </div>
            </div>-->
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">标签：</label>
                <div class="col-sm-8 tags-wrap">
                </div>
            </div>
        </form>
    </div>
</div>

<div class="row" id="addLable" style="display: none">
    <div class="ibox-content">
        <form class="form-horizontal m-t"  method="post">
            <div class="form-group">
                <label class="col-sm-3 control-label">标签名称 :</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" name="label_name" id="label_name" value=""  />
                    <!--                            required="" aria-required="false"-->
                </div>
            </div>
        </form>
    </div>
</div>

</body>

<script src="../../js/jquery.min.js?v=2.1.4"></script>
<script src="../../js/public.js"></script>
<script src="../../js/bootstrap.min.js?v=3.3.6"></script>
<script src="../../js/layer/layer.js"></script>
<script src="../../js/content.min.js"></script>
<script src="../../js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
<script src="../../js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
<script src="../../js/demo/bootstrap-table-demo.min.js"></script>
<script src="../../js/bootstrapValidator.js"></script>
<script src="../../js/bootstrapValidator.min.js"></script>
<script src="../../js/index.js"></script>
<script src="../../js/plugins/simditor/module.js"></script>
<script src="../../js/plugins/simditor/uploader.js"></script>
<script src="../../js/plugins/simditor/hotkeys.js"></script>
<script src="../../js/simditor-2.3.28/lib/simditor.js"></script>
<script src="../../js/plugins/webuploader/webuploader.min.js"></script>
<script src="../../js/echarts/dist/echarts.min.js"></script>
<script src="../../js/plugins/bootstrap-select-1.13.9/js/bootstrap-select.js"></script>

<script src="../../js/source/creative/upload.js"></script>
<script src="../../js/jasny-bootstrap.min.js"></script>

<!--jquery-validate-->
<script src="../../js/jquery-validate/jquery.validate.min.js"></script>
<script src="../../js/jquery-validate/additional-methods.min.js"></script>
<script src="../../js/jquery-validate/messages_zh.min.js"></script>
<!--select2-->
<script src="../../js/plugins/select2/select2.min.js"></script>
<script src="../../js/plugins/select2/zh-CN.js"></script>
<!--工具-->
<script src="../../js/util.js"></script>
<script src="../../js/clipboard.min.js"></script>
<script>
    $(function () {
        /*上传文件处理*/
        $(document).on('input propertychange','.file-btn-group input[type="file"]', function (e) {
            var that=this;
            // 处理自己的业务
            var file=e.currentTarget.files[0];
            if (!file)return;
            uploadFile(file,function (result) {
                if (result.status == 0) {
                    $(that).parents(".file-btn-group").prevAll('input[type="text"]').val(__IMG__+result.path[0]).change();
                } else {
                    $.modal.alertError(result.msg);
                }
            },function () {
                $.modal.alertWarning("图片上传失败。");
            });
            return;
        });
    });
</script>
